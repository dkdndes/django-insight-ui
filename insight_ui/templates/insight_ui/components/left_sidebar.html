{% load i18n %}

<aside role="complementary" aria-label="{% trans 'Linke Seitennavigation' %}" class="insight-sidebar insight-sidebar--left insight-sidebar--{{ theme }}" {% if options.id %}id="{{ options.id }}"{% endif %}>
  <div class="insight-sidebar__container">
    <!-- Sidebar Header -->
    {% if title %}
      <div class="insight-sidebar__header">
        <h2 class="insight-sidebar__title">{{ title }}</h2>
        {% if collapsible %}
          <button 
            type="button" 
            class="insight-sidebar__toggle" 
            aria-expanded="true" 
            aria-controls="left-sidebar-content"
            aria-label="{% trans 'Linke Sidebar umschalten' %}"
            data-insight-toggle="sidebar">
            <span class="insight-sidebar__toggle-icon"></span>
          </button>
        {% endif %}
      </div>
    {% endif %}
    
    <!-- Sidebar Content -->
    <div id="left-sidebar-content" class="insight-sidebar__content">
      <nav class="insight-sidebar__nav">
        <ul class="insight-sidebar__list">
          {% for item in items %}
            <li class="insight-sidebar__item{% if item.active %} insight-sidebar__item--active{% endif %}">
              <a 
                href="{{ item.url }}" 
                class="insight-sidebar__link"
                {% if item.active %}aria-current="page"{% endif %}>
                {% if item.icon %}<span class="insight-sidebar__icon">{{ item.icon|safe }}</span>{% endif %}
                <span>{{ item.text }}</span>
              </a>
            </li>
          {% endfor %}
        </ul>
      </nav>
    </div>
  </div>
</aside>
