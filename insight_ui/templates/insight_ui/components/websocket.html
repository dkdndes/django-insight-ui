{% load i18n %}
<div 
  id="{{ options.id|default:'insight-websocket' }}"
  class="insight-websocket"
  hx-ext="ws"
  ws-connect="{{ options.ws_url }}"
>
  <h3 class="insight-websocket__title">
    {% trans "WebSocket Live-Komponente" %}
  </h3>
  <div id="{{ options.id|default:'insight-websocket' }}-output" 
       class="insight-websocket__output">
    {% if options.initial_content %}
      {{ options.initial_content|safe }}
    {% else %}
      <p class="insight-websocket__placeholder">{% trans "Warten auf WebSocket-Nachrichten..." %}</p>
    {% endif %}
  </div>
  <div class="insight-websocket__status">
    Status: <span id="{{ options.id|default:'insight-websocket' }}-status" class="insight-websocket__status-text">{% trans "Verbindung wird hergestellt..." %}</span>
  </div>
  <div class="insight-websocket__url">
    URL: {{ options.ws_url }}
  </div>
  <div class="insight-websocket__mode">
    Mode: HTMX WebSocket Extension (erwartet HTML)
  </div>
</div>
