{% load i18n %}
<div 
  id="{{ options.id|default:'insight-websocket' }}"
  hx-ext="ws"
  ws-connect="{{ options.ws_url }}"
>
  <div id="{{ options.id|default:'insight-websocket' }}-output" class="bg-gray-100 dark:bg-gray-900 rounded shadow px-4 py-2 mt-4">
    {% if options.initial_content %}
      {{ options.initial_content|safe }}
    {% else %}
      <p class="text-insight-text-secondary dark:text-insight-text-secondary-dark">{% trans "Warten auf WebSocket-Nachrichten..." %}</p>
    {% endif %}
  </div>
  <span class="block text-sm text-insight-text-primary dark:text-insight-text-primary-dark mt-4">
    {% trans "Status:" %} <span id="{{ options.id|default:'insight-websocket' }}-status"><b>{% trans "Verbindung wird hergestellt..." %}</b></span>
  </span>
  <span class="block text-xs text-insight-text-secondary dark:text-insight-text-secondary-dark mt-2">
    {% trans "URL:" %} {{ options.ws_url }}
  </span>
  <span class="block text-xs text-insight-text-secondary dark:text-insight-text-secondary-dark">
    {% trans "Mode: HTMX WebSocket Extension (erwartet HTML)" %}
  </span>
</div>
