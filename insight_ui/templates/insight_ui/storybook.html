{% extends "insight_ui/base.html" %}
{% load static insight_tags i18n %}

{% block title %}{% trans 'Django Insight UI storybook.html' %}{% endblock %}

{% block sidebar_right %}
{% include "insight_ui/components/sidebar.html" with title="Sekundäre Sidebar" side="right" auto_close=True collapsible=True sidebar_items=right_sidebar_items %}
{% endblock sidebar_right %}
{% block sidebar_left %}
{% include "insight_ui/components/sidebar.html" with title="Primäre Sidebar" side="left" auto_close=False collapsible=True sidebar_items=left_sidebar_items %}
{% endblock sidebar_left %}

{% block navbar %}
{% navbar brand="Django Insight UI NavBar" links=nav_links show_searchbar=True show_language_selector=True show_theme_toggle=True %}
{% endblock navbar %}

{% block content %}
<!-- Hauptcontainer für alle Demo-Abschnitte -->
<div class="w-full pt-32 px-4 sm:px-6 lg:px-24">

    <!-- Willkommenstext -->
    <section class="mb-8">
        <h1 class="text-3xl font-bold text-insight-text-primary dark:text-white mb-4">{% trans 'Django Insight UI Storybook' %}</h1>
        <p class="text-lg text-insight-text-secondary dark:text-insight-text-secondary-dark">
            {% trans 'Eine moderne, barrierefreie und responsive UI-Bibliothek für Django-Projekte.' %}
        </p>
    </section>

    <!-- Input Elements -->
    <section class="mb-8 bg-white dark:bg-gray-800 rounded-lg shadow-md p-6">
        <h2 class="text-2xl font-semibold text-insight-text-primary dark:text-white mb-4">{% trans 'Input Elemente' %}</h2>
        <div class="space-y-4">
            {% include "insight_ui/components/inputs.html" %}
        </div>
    </section>

    <!-- Searchbox -->
    <section class="mb-8 bg-white dark:bg-gray-800 rounded-lg shadow-md p-6">
        <h2 class="text-2xl font-semibold text-insight-text-primary dark:text-white mb-4">{% trans 'Prominente Suchzeile' %}</h2>
        <div class="space-y-4">
            {% include "insight_ui/components/searchbar.html" %}
        </div>
    </section>

    <!-- Alert Demo -->
    <section class="mb-8 bg-white dark:bg-gray-800 rounded-lg shadow-md p-6">
        <h2 class="text-2xl font-semibold text-insight-text-primary dark:text-white mb-4">{% trans 'Benachrichtigungen' %}</h2>
        <div class="space-y-4">
            {% alert message="Dies ist eine Informationsmeldung" alert_type="info" %}
            {% alert message="Erfolgreich gespeichert!" alert_type="success" %}
            {% alert message="Überprüfen Sie Ihre Eingaben" alert_type="warning" %}
            {% alert message="Fehler beim Laden der Daten" alert_type="error" %}
        </div>
    </section>

    <!--  Breadcrumbs Demo -->
    <section class="mb-8 bg-white dark:bg-gray-800 rounded-lg shadow-md p-6">
        <h2 class="text-2xl font-semibold text-insight-text-primary dark:text-white mb-4">{% trans 'Breadcrumb-Navigation' %}</h2>
        {% breadcrumbs items=breadcrumb_items %}
    </section>

    <!-- Modal Demo -->
    <section class="mb-8 bg-white dark:bg-gray-800 rounded-lg shadow-md p-6">
        <h2 class="text-2xl font-semibold text-insight-text-primary dark:text-white mb-4">{% trans "Modal-Dialoge" %}</h2>
        <div class="flex gap-4">
            <!-- Standard -->
            <button type="button"
                    class="bg-insight-primary w-72 rounded-sm text-white px-6 py-2 hover:bg-insight-primary-hover active:bg-insight-primary-active transition"
                    data-insight-toggle="modal"
                    data-insight-target="demo-modal">
                {% trans "Standard Modal" %}
            </button>
            {% modal html_tag_id="demo-modal" title=_("Demo Modal") description=_("Dies ist ein Beispiel-Modal mit Standard-Styling!") %}

            <!-- Action-Buttons -->
            <button type="button"
                class="bg-insight-error w-72 rounded-sm text-white px-6 py-2 hover:bg-insight-error-hover active:bg-insight-error-active transition"
                data-insight-toggle="modal"
                data-insight-target="delete-modal">
                {% trans "Modal mit Action-Buttons" %}
            </button>
            {% modal html_tag_id="delete-modal" title=_("Löschen?") description="Bitte bestätigen Sie die Löschung!" actions=confirm_modal_actions %}
        </div>
    </section>

    <!-- Form Demo -->
    <section class="mb-8 bg-white dark:bg-gray-800 rounded-lg shadow-md p-6">
        <h2 class="text-2xl font-semibold text-insight-text-primary dark:text-white mb-4">{% trans 'Formular' %}</h2>
        {% form title="Kontaktformular" description="Füllen Sie das Formular aus" fields=form_fields actions=form_actions action="api/form-submit/" id="standard-form" %}
    </section>

    <!-- HTMX Form Demo -->
    <section class="mb-8 bg-white dark:bg-gray-800 rounded-lg shadow-md p-6">
        <h2 class="text-2xl font-semibold text-insight-text-primary dark:text-white mb-4">{% trans 'Formular, mit hx-post' %}</h2>
        {% form title="Kontaktformular" description="Füllen Sie das Formular aus" fields=form_fields actions=form_actions htmx=htmx_config id="htmx-form" %}
    </section>

    <!-- Filter Demo -->
    <section class="mb-8 bg-white dark:bg-gray-800 rounded-lg shadow-md p-6">
        <h2 class="text-2xl font-semibold text-insight-text-primary dark:text-white mb-4">{% trans 'Generische Filterung' %}</h2>
        <span class="text-neutral-400 italic">Todo</span>
    </section>

    <!-- SQL-Like Filter Demo -->
    <section class="mb-8 bg-white dark:bg-gray-800 rounded-lg shadow-md p-6">
        <h2 class="text-2xl font-semibold text-insight-text-primary dark:text-white mb-4">{% trans 'SQL-Like Filterung' %}</h2>
        <span class="text-neutral-400 italic">Todo</span>
    </section>

    <!-- HTMX Live Content Demo (Pulling)-->
    <section class="mb-8 bg-white dark:bg-gray-800 rounded-lg shadow-md p-6">
        <h2 class="text-2xl font-semibold text-insight-text-primary dark:text-white mb-4">{% trans 'Live-Inhalte (Pull-Verfahren)' %}</h2>
        {% live_content url="/api/live-data/" interval=10 id="live-content" %}
    </section>

    <!-- HTMX Websocket Content Demo (Pushing) -->
    <section class="mb-8 bg-white dark:bg-gray-800 rounded-lg shadow-md p-6">
        <h2 class="text-2xl font-semibold text-insight-text-primary dark:text-white mb-4">{% trans "WebSocket Live-Demo (Push-Verfahren)" %}</h2>
        {% insight_websocket html_tag_id="demo-websocket" ws_url="ws://localhost:8765" initial_content="<p>Verbinde zu WebSocket…</p>" %}
    </section>

    <!-- Table Demo -->
    <section class="mb-8 bg-white dark:bg-gray-800 rounded-lg shadow-md p-6">
        <h2 class="text-2xl font-semibold text-insight-text-primary dark:text-white mb-4">{% trans 'Tabelle' %}</h2>
        {% table headers=table_headers rows=table_rows caption="Beispiel-Tabelle" %}
    </section>

    <!-- Pagination Demo -->
    <section class="mb-8 bg-white dark:bg-gray-800 rounded-lg shadow-md p-6">
        <h2 class="text-2xl font-semibold text-insight-text-primary dark:text-white mb-4">{% trans 'Listen/Tabellen Pagination' %}</h2>
        <div id="list-container">
            {% include 'insight_ui/components/list_partial.html' with pagination=start_page %}
        </div>
    </section>

    <!-- Card Demo -->
    <section class="mb-8 bg-white dark:bg-gray-800 rounded-lg shadow-md p-6">
        <h2 class="text-2xl font-semibold text-insight-text-primary dark:text-white mb-4">{% trans 'Karten/Kacheln' %}</h2>
        <div class="flex gap-6">
            {% for card in cards %}
                {% card card=card %}
            {% endfor %}
            {% for card in horizontale_cards %}
                {% card_horizontale card=card %}
            {% endfor %}
        </div>
    </section>

    <!-- Carousel Demo -->
    <section class="mb-8 bg-white dark:bg-gray-800 rounded-lg shadow-md p-6">
        <h2 class="text-2xl font-semibold text-insight-text-primary dark:text-white mb-4">{% trans 'Karten/Kachel Karussell' %}</h2>
        {% carousel carousel_items=carousel_items show_index=True slides_count=range_total_slides items_per_slide=2 %}
    </section>

    <!--Toggle View Demo -->
    <section class="mb-8 bg-white dark:bg-gray-800 rounded-lg shadow-md p-6">
        <h2 class="text-2xl font-semibold text-insight-text-primary dark:text-white">{% trans 'Ansicht wechseln' %}</h2>
        {% include "insight_ui/components/toggle_view.html" with table_headers=toggle_table_headers table_rows=toggle_table_rows current_view=toggle_current_view %}
    </section>

    <!-- Infinite Scroll Demo -->
    <section class="mb-8 bg-white dark:bg-gray-800 rounded-lg shadow-md p-6">
        <h2 class="text-2xl font-semibold text-insight-text-primary dark:text-white mb-4">{% trans 'Infinite Scroll' %}</h2>
        {% infinite_scroll items=scroll_items next_url="/api/more-items/" has_next=True %}
    </section>
</div>

{% endblock content %}

{% block footer %}
    {% include "insight_ui/components/footer.html" with data=footer %}
{% endblock footer %}
